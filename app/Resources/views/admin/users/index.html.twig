{% extends 'base.html.twig' %}

{% block body %}
    <h1>Список пользователей</h1>
    <table class="table table-inbox table-striped">
        <thead>
            <tr>
                <th>Пользователь</th>
                <th{% if pagination.isSorted('up.Title') %} class="sorted"{% endif %}>{{ knp_pagination_sortable(pagination, "Фамилия", "up.family") }}</th>
                <th>Имя\Отчество</th>
                <th>{{'forms.labels.smi'|trans }}</th>
                <th>e-mail</th>
                <th>{{  'forms.labels.phone'|trans }}</th>
                <th>{{ 'forms.labels.address'|trans }}</th>
            </tr>
        </thead>
        <tbody>
        {% for client in pagination %}
            <tr>
                <td>
                    {% if client.user is not defined or client.user is null %}
                        связь не установлена
                    {% else %}
                        {{ client.user }}<br>
                    {% endif %}
                    {% if client.user.pictFileName is defined and client.user.pictFileName is not null %}
                        <img width="80px" src ="{{ asset('uploads/photo/' ~ client.user.pictFileName) }}" />
                    {% endif %}
                 </td>
                <td><a href="{{ path('admin_user_show', { 'id': client.id }) }}">{{ client.family }}</a></td>
                <td>{{ client.name }} {{ client.secondname }}</td>
                <td>
                    {% if client.user.smi is defined and client.user.smi is not null %}
                        {{ client.user.smi }}
                    {% endif %}
                </td>
                <td>
                    {% if client.user.email  is defined and client.user.email  is not null %}
                        {{ client.user.email  }}
                    {% endif %}
                </td>
                <td>{{ client.phone }}</td>
                <td>{{ client.address }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {{ knp_pagination_render(pagination) }}

{% endblock %}
